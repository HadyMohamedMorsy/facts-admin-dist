import{Fa as L,Ga as J,Ha as Q,Ia as X,Ja as Z,Qa as ee,oa as j,pa as G,va as W,wa as H,ya as N,za as Y}from"./chunk-GSCQOV4H.js";import{q as O}from"./chunk-YTGKFTSL.js";import{$ as _,Cb as u,Db as m,Eb as S,H as V,Ib as q,Lb as B,Mb as R,R as P,Xb as D,Za as b,Zb as z,da as y,dc as k,kb as x,oc as A,pa as E,pc as $,qa as K,qb as w,ta as M,tb as F,yb as T}from"./chunk-BU7DNSOB.js";import{a as c,b as g,h,i as f,j as I,k as s}from"./chunk-7SQXNNBM.js";var C=class{constructor(e){this.id=e?.id||null,this.title_en=e?.title_en||null,this.title_ar=e?.title_ar||null,this.slug=e?.slug||null,this.meta_title_en=e?.meta_title_en||null,this.meta_title_ar=e?.meta_title_ar||null,this.meta_description_en=e?.meta_description_en||null,this.meta_description_ar=e?.meta_description_ar||null,this.short_description_en=e?.short_description_en||null,this.short_description_ar=e?.short_description_ar||null,this.description_en=e?.description_en||null,this.description_ar=e?.description_ar||null,this.order=e?.order||null,this.thumbnail=e?.thumbnail||null,this.featuredImage=e?.featuredImage||null,this.selectMagazine=e?.selectMagazine||null,this.magazine=e?.selectMagazine?.value||null}};function ae(a,e){a&1&&(u(0,"p",5),S(1,"i",6),D(2),A(3,"translate"),m()),a&2&&(b(2),z(" ",$(3,1,"All Fields it will be Required button it will not request"),`
`))}function le(a,e){if(a&1){let n=q();u(0,"app-form",4),B("onSubmit",function(){E(n);let U=R();return K(U.createUpdateRecord(U.dialogMeta.endpoints))}),m(),w(1,ae,4,3,"p",5)}if(a&2){let n=R();F("form",n.createUpdateForm)("model",n.model)("fields",n.fields)("options",n.options)("withFormPadding",n.dialogMeta.withFormPadding)("showFormActions",n.dialogMeta.showFormActions)("showSubmitButton",n.dialogMeta.showSubmitButton)("showResetButton",n.dialogMeta.showResetButton)("buttonLabel",n.dialogMeta.submitButtonLabel)("submitBtnLoading",n.isLoading()),b(),T(n.dialogMeta.langDesc?1:-1)}}function re(a,e){a&1&&S(0,"app-spinner")}var te=(()=>{var e,n,l,ie,ne;let r=class r extends X{constructor(){super(...arguments);f(this,l);f(this,e);f(this,n);I(this,e,_(N)),I(this,n,_(Y)),this.currentLang=_(L).currentLanguage}ngOnInit(){this.dialogMeta=g(c({},this.dialogMeta),{endpoints:{store:"blog/store",update:"blog/update"}}),this.editData?(this.dialogMeta=g(c({},this.dialogMeta),{dialogTitle:this.translate.instant("Update Blog"),submitButtonLabel:this.translate.instant("Update blog")}),this.model=new C(this.editData)):(this.dialogMeta=g(c({},this.dialogMeta),{dialogTitle:this.translate.instant("Create blog"),submitButtonLabel:this.translate.instant("Create blog")}),this.model=new C),s(this,l,ie).call(this)}configureFields(){return[h(this,e).fieldBuilder([{key:"order",type:"floated-input-field",props:{type:"number",required:!0,label:"Order"}}]),h(this,e).fieldBuilder([{key:"slug",type:"floated-input-field",props:{label:"Slug"},hooks:{onInit:i=>i.formControl?.valueChanges.pipe(V(),P(o=>{let p=o.replace(/\s+/g,"-");i.formControl?.setValue(p)}))}}]),{key:"selectMagazine",type:"autocomplete-field",props:{placeholder:"select magazine",label:"select magazine",endpoint:"magazine/front/index",labelTarget:`title_${this.currentLang()}`,fieldKey:"magazine"}},{key:"magazine"},{type:"tabs-field",fieldGroup:h(this,n).languages.map(i=>({props:{label:`(${i.value.toUpperCase()})`},fieldGroup:s(this,l,ne).call(this,i.value)}))},h(this,e).fieldBuilder([{key:"featuredImage",type:"file-field",props:{required:!this.editData,chooseLabel:"Featured featuredImage",description:"Dimensions Image 1024 px Width & 587 px Height & Format webp"}},{key:"thumbnail",type:"file-field",className:"col-12",props:{required:!this.editData,chooseLabel:"thumbnail",description:"Dimensions Image 424  px Width & 391 px Height & Format webp"}}])]}};e=new WeakMap,n=new WeakMap,l=new WeakSet,ie=function(){this.fields=this.configureFields()},ne=function(i){return[h(this,e).fieldBuilder([{key:`title_${i}`,type:"floated-input-field",props:{label:"Title"}},{key:`meta_title_${i}`,type:"floated-input-field",props:{label:"meta title"}}]),{key:`meta_description_${i}`,type:"textarea",props:{placeholder:"Meta Description"}},{key:`short_description_${i}`,type:"textarea-field",props:{label:"short description"}},{key:`description_${i}`,type:"editor-field",props:{label:"description"}}]},r.\u0275fac=(()=>{let i;return function(p){return(i||(i=M(r)))(p||r)}})(),r.\u0275cmp=y({type:r,selectors:[["app-blog-dialog"]],standalone:!0,features:[x,k],decls:8,vars:4,consts:[[1,"p-3","border-bottom-1","border-300","bg-white","md:sticky","z-index-1102","top-0"],[1,"flex","align-items-center","justify-content-between","gap-2"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"],[3,"onSubmit","form","model","fields","options","withFormPadding","showFormActions","showSubmitButton","showResetButton","buttonLabel","submitBtnLoading"],[1,"filters-hint","px-4","py-4"],[1,"fas","fa-info-circle","text-primary"]],template:function(o,p){o&1&&(u(0,"div",0)(1,"div",1)(2,"h2",2),D(3),m(),u(4,"button",3),B("click",function(){return p.closeDialog()}),m()()(),w(5,le,2,11),A(6,"async"),w(7,re,1,0,"app-spinner")),o&2&&(b(3),z(" ",p.dialogMeta.dialogTitle," "),b(2),T($(6,2,p.dialogMeta.dialogData$)?5:7))},dependencies:[O,G,j,H,W,Q,J],encapsulation:2,changeDetection:0});let a=r;return a})();var Ie=(()=>{var e,d;let l=class l extends Z{constructor(){super(...arguments);f(this,e);this.currentLang=_(L).currentLanguage}ngOnInit(){this.dialogComponent=te,this.indexMeta=g(c({},this.indexMeta),{endpoints:{index:"blog/index",delete:"blog/delete"},indexTitle:s(this,e,d).call(this,"Blogs"),indexIcon:"pi pi-book",createBtnLabel:s(this,e,d).call(this,"Create Blog"),indexTableKey:"BLOGS_KEY",columns:[{name:"id",title:s(this,e,d).call(this,"#ID"),searchable:!1,orderable:!0},{name:"order",title:s(this,e,d).call(this,"order"),searchable:!1,orderable:!0},{name:`title_${this.currentLang()}`,title:s(this,e,d).call(this,"title"),searchable:!0,orderable:!1},{name:"slug",title:s(this,e,d).call(this,"slug"),searchable:!0,orderable:!1},{name:"created_at",title:s(this,e,d).call(this,"created at"),searchable:!1,transform:{type:"date",filter:"MMM d, y"},orderable:!0}]})}};e=new WeakSet,d=function(r){return this.translate.instant(r)},l.\u0275fac=(()=>{let r;return function(t){return(r||(r=M(l)))(t||l)}})(),l.\u0275cmp=y({type:l,selectors:[["app-index-blogs"]],standalone:!0,features:[x,k],decls:1,vars:17,consts:[["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","isActiveChange","onLoadData","headerTitle","titleIcon","headerBtnLabel","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","indexRole","updateBtnRole","createBtnRole","deleteBtnRole","globalFilterValue","withActionsColumn","reorderableColumns","reorderableRows"]],template:function(v,t){if(v&1&&(u(0,"app-table-wrapper",0),B("createBtnClicked",function(){return t.openCreateRecordDialog()})("updateBtnClicked",function(o){return t.openUpdateRecordDialog(o)})("deleteBtnClicked",function(o){return t.deleteRecord(o)})("isActiveChange",function(o){return t.activeChange(o)})("onLoadData",function(o){return t.loadRecords(o)}),m()),v&2){let i,o;F("headerTitle",t.indexMeta.indexTitle)("titleIcon",t.indexMeta.indexIcon)("headerBtnLabel",t.indexMeta.createBtnLabel)("columns",t.indexMeta.columns)("dataSource",t.records())("loading",t.isLoading())("totalRecords",t.totalRecords())("recordsFiltered",t.recordsFiltered())("stateKey",t.indexMeta.indexTableKey)("indexRole",t.roles().index)("updateBtnRole",t.roles().update)("createBtnRole",t.roles().create)("deleteBtnRole",t.roles().delete)("globalFilterValue",t.globalFilterValue)("withActionsColumn",t.indexMeta.withActionCoulmns)("reorderableColumns",(i=t.indexMeta.reorderableColumns)!==null&&i!==void 0?i:!1)("reorderableRows",(o=t.indexMeta.reorderableRows)!==null&&o!==void 0?o:!1)}},dependencies:[ee],encapsulation:2,changeDetection:0});let a=l;return a})();export{Ie as default};
