import{Ba as $,Ga as H,Ha as J,Ia as K,la as A,oa as I,pa as V,va as j,wa as z,ya as G,za as O}from"./chunk-MXVHDR5F.js";import{q as P}from"./chunk-YTGKFTSL.js";import{$ as g,Cb as m,Db as u,Eb as w,Ib as q,Lb as B,Mb as C,Xb as M,Za as p,Zb as x,da as U,dc as R,kb as T,oc as F,pa as L,pc as v,q as S,qa as N,qb as b,ta as D,tb as E,yb as _}from"./chunk-BU7DNSOB.js";import{a as f,b as h,h as o,i as d,k}from"./chunk-7SQXNNBM.js";var c=class{constructor(e){this.id=e?.id||null,this.role=e?.role?.id||null,this.username=e?.username||null,this.email=e?.email||null,this.phone_number=e?.phone_number||null,this.firstName=e?.firstName||null,this.lastName=e?.lastName||null,this.gender=e?.gender||null,this.address=e?.address||null,this.country=e?.country||null,this.is_active=e?.is_active||!0}};function W(i,e){i&1&&(m(0,"p",5),w(1,"i",6),M(2),F(3,"translate"),u()),i&2&&(p(2),x(" ",v(3,1,"All Fields it will be Required button it will not request"),`
`))}function X(i,e){if(i&1){let t=q();m(0,"app-form",4),B("onSubmit",function(){L(t);let n=C();return N(n.createUpdateRecord(n.dialogMeta.endpoints))}),u(),b(1,W,4,3,"p",5)}if(i&2){let t=C();E("form",t.createUpdateForm)("model",t.model)("fields",t.fields)("options",t.options)("withFormPadding",t.dialogMeta.withFormPadding)("showFormActions",t.dialogMeta.showFormActions)("showSubmitButton",t.dialogMeta.showSubmitButton)("showResetButton",t.dialogMeta.showResetButton)("buttonLabel",t.dialogMeta.submitButtonLabel)("submitBtnLoading",t.isLoading()),p(),_(t.dialogMeta.langDesc?1:-1)}}function Y(i,e){i&1&&w(0,"app-spinner")}var he=(()=>{var e,t,l,n,Q;let a=class a extends K{constructor(){super(...arguments);d(this,n);d(this,e,g(G));d(this,t,g($));d(this,l,g(O))}ngOnInit(){this.dialogMeta=h(f({},this.dialogMeta),{endpoints:{store:"user/signup",update:"user/update"}}),this.editData?(this.dialogMeta=h(f({},this.dialogMeta),{dialogTitle:this.translate.instant("Update User"),submitButtonLabel:this.translate.instant("Update User")}),this.model=new c(this.editData)):(this.dialogMeta=h(f({},this.dialogMeta),{dialogTitle:this.translate.instant("Create User"),submitButtonLabel:this.translate.instant("Create User")}),this.model=new c),k(this,n,Q).call(this)}configureFields(){return[o(this,e).fieldBuilder([{key:"firstName",type:"floated-input-field",props:{label:"firstName",placeholder:"Enter firstName",required:!0}},{key:"lastName",type:"floated-input-field",props:{label:"lastName",placeholder:"Enter lastName",required:!0}}]),o(this,e).fieldBuilder([{key:"email",type:"floated-input-field",props:{label:"E-mail",required:!0}},{key:"username",type:"floated-input-field",props:{label:"Username",placeholder:"Enter Username",required:!0}}]),o(this,e).fieldBuilder([{key:"phone_number",type:"floated-input-field",props:{type:"number",label:"phone number",required:!0}},{key:"role",type:"select-field",className:"col-12 md:col-6",props:{isFloatedLabel:!0,label:"Roles",optionLabel:"name",optionValue:"id",options:o(this,t).getListData("role/role-list").pipe(S(({data:r})=>r))}}]),o(this,e).fieldBuilder([{validators:{validation:this.editData?[]:[{name:"fieldMatch",options:{errorPath:"password_confirmation"}}]},fieldGroup:[o(this,e).fieldBuilder([{key:"password",type:"password-field",props:{placeholder:"password",toggleMask:!0}},{key:"password_confirmation",type:"password-field",props:{placeholder:"password confirmation",toggleMask:!0}}])]}]),o(this,e).fieldBuilder([{key:"country",type:"select-field",className:"col-12 md:col-6",props:{isFloatedLabel:!0,label:"country",options:o(this,l).countries}}]),o(this,e).fieldBuilder([{key:"gender",type:"radio-field",className:"col-12 md:col-6",props:{label:"gender",options:[{value:"male",label:this.translate.instant("male")},{value:"female",label:this.translate.instant("female")}]}}]),o(this,e).fieldBuilder([{key:"address",type:"textarea-field",props:{isFloatedLabel:!0,label:"address"}}])]}};e=new WeakMap,t=new WeakMap,l=new WeakMap,n=new WeakSet,Q=function(){this.fields=this.configureFields()},a.\u0275fac=(()=>{let r;return function(s){return(r||(r=D(a)))(s||a)}})(),a.\u0275cmp=U({type:a,selectors:[["app-user-dialog"]],standalone:!0,features:[T,R],decls:8,vars:4,consts:[[1,"p-3","border-bottom-1","border-300","bg-white","md:sticky","z-index-1102","top-0"],[1,"flex","align-items-center","justify-content-between","gap-2"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"],[3,"onSubmit","form","model","fields","options","withFormPadding","showFormActions","showSubmitButton","showResetButton","buttonLabel","submitBtnLoading"],[1,"filters-hint","px-4","py-4"],[1,"fas","fa-info-circle","text-primary"]],template:function(y,s){y&1&&(m(0,"div",0)(1,"div",1)(2,"h2",2),M(3),u(),m(4,"button",3),B("click",function(){return s.closeDialog()}),u()()(),b(5,X,2,11),F(6,"async"),b(7,Y,1,0,"app-spinner")),y&2&&(p(3),x(" ",s.dialogMeta.dialogTitle," "),p(2),_(v(6,2,s.dialogMeta.dialogData$)?5:7))},dependencies:[P,V,I,A,z,j,J,H],encapsulation:2,changeDetection:0});let i=a;return i})();export{he as a};
