import{Fa as J,Ga as Q,Ha as X,Ia as Z,Ja as ee,Qa as te,la as j,oa as N,pa as z,va as G,wa as H,ya as W,za as Y}from"./chunk-GSCQOV4H.js";import{q as O}from"./chunk-YTGKFTSL.js";import{$ as g,Cb as u,Db as c,Eb as D,H as U,Ib as K,Lb as C,Mb as I,O as E,R as k,Xb as L,Za as b,Zb as S,da as w,dc as R,kb as x,oc as A,pa as V,pc as $,qa as P,qb as M,ta as v,tb as F,yb as T}from"./chunk-BU7DNSOB.js";import{a as m,b as h,h as l,i as _,k as d}from"./chunk-7SQXNNBM.js";var y=class{constructor(t){this.id=t?.id||null,this.order=t?.order||null,this.title_en=t?.title_en||null,this.title_ar=t?.title_ar||null,this.slug=t?.slug||null,this.intro_description_en=t?.intro_description_en||null,this.intro_description_ar=t?.intro_description_ar||null,this.short_description_en=t?.short_description_en||null,this.short_description_ar=t?.short_description_ar||null,this.education_accordion=t?.education_accordion.map(i=>({accordion_title_en:i?.accordion_title_en,accordion_title_ar:i?.accordion_title_ar,description_en:i?.description_en,description_ar:i?.description_ar}))||[null],this.education_details=t?.education_details.map(i=>({name_en:i?.name_en,name_ar:i?.name_ar,value_en:i?.value_en,value_ar:i?.value_ar}))||[null],this.featuredImage=t?.featuredImage||null,this.thumbnail=t?.thumbnail||null}};function ae(a,t){a&1&&(u(0,"p",5),D(1,"i",6),L(2),A(3,"translate"),c()),a&2&&(b(2),S(" ",$(3,1,"All Fields it will be Required button it will not request"),`
`))}function re(a,t){if(a&1){let i=K();u(0,"app-form",4),C("onSubmit",function(){V(i);let q=I();return P(q.createUpdateRecord(q.dialogMeta.endpoints))}),c(),M(1,ae,4,3,"p",5)}if(a&2){let i=I();F("form",i.createUpdateForm)("model",i.model)("fields",i.fields)("options",i.options)("withFormPadding",i.dialogMeta.withFormPadding)("showFormActions",i.dialogMeta.showFormActions)("showSubmitButton",i.dialogMeta.showSubmitButton)("showResetButton",i.dialogMeta.showResetButton)("buttonLabel",i.dialogMeta.submitButtonLabel)("submitBtnLoading",i.isLoading()),b(),T(i.dialogMeta.langDesc?1:-1)}}function le(a,t){a&1&&D(0,"app-spinner")}var ie=(()=>{var t,i,r,ne;let s=class s extends Z{constructor(){super(...arguments);_(this,r);_(this,t,g(W));_(this,i,g(Y))}ngOnInit(){this.dialogMeta=h(m({},this.dialogMeta),{endpoints:{store:"education/store",update:"education/update"}}),this.editData?(this.dialogMeta=h(m({},this.dialogMeta),{dialogTitle:this.translate.instant("Update Education"),submitButtonLabel:this.translate.instant("Update Education")}),this.model=new y(this.editData)):(this.dialogMeta=h(m({},this.dialogMeta),{dialogTitle:this.translate.instant("Create Education"),submitButtonLabel:this.translate.instant("Create Education")}),this.model=new y),this.fields=this.configureFields()}configureFields(){return[l(this,t).fieldBuilder([{key:"order",type:"floated-input-field",props:{type:"number",required:!0,label:"Order"}},{key:"slug",type:"floated-input-field",props:{required:!0,label:"Slug"},hooks:{onInit:e=>e.formControl?.valueChanges.pipe(U(),k(n=>{let o=n.replace(/\s+/g,"-");e.formControl?.setValue(o)}))}}]),{type:"tabs-field",fieldGroup:l(this,i).languages.map(e=>({props:{label:`(${e.value.toUpperCase()})`},fieldGroup:d(this,r,ne).call(this,e.value)}))},l(this,t).fieldBuilder([{key:"featuredImage",type:"file-field",props:{required:!this.editData,chooseLabel:"Featured Image",description:"Dimensions Image 901px \xD7 1280 px Height & max side image 100 kb"}}]),l(this,t).fieldBuilder([{key:"thumbnail",type:"file-field",props:{required:!this.editData,chooseLabel:"thumbnail",description:"Dimensions Image 901px \xD7 1280 px Height & max side image 100 kb"}}])]}};t=new WeakMap,i=new WeakMap,r=new WeakSet,ne=function(e){return[{key:`title_${e}`,type:"floated-input-field",props:{required:!0,label:"Title"}},l(this,t).fieldBuilder([{key:`short_description_${e}`,type:"textarea-field",props:{label:"short description"}}]),l(this,t).fieldBuilder([{key:`intro_description_${e}`,type:"editor-field",props:{label:"intro description"}}]),l(this,t).fieldBuilder([{key:"education_accordion",type:"repeat-field",props:{addBtnText:"Add Education Accordion",disabledRepeater:!1},hooks:{onInit:n=>n.formControl?.valueChanges.pipe(E(n.model),k(o=>{if(n.props)return o.length===5?n.props.disabledRepeater=!0:n.props.disabledRepeater=!1}))},fieldArray:l(this,t).fieldBuilder([{key:`accordion_title_${e}`,type:"floated-input-field",className:"col-12",props:{label:"accordion title",required:!0}},{key:`description_${e}`,type:"editor-field",props:{label:"description"}}])}]),l(this,t).fieldBuilder([{key:"education_details",type:"repeat-field",props:{addBtnText:"Add Education Details",disabledRepeater:!1},hooks:{onInit:n=>n.formControl?.valueChanges.pipe(E(n.model),k(o=>{if(n.props)return o.length===5?n.props.disabledRepeater=!0:n.props.disabledRepeater=!1}))},fieldArray:l(this,t).fieldBuilder([{key:`name_${e}`,type:"floated-input-field",className:"col-12",props:{label:"name",required:!0}},{key:`value_${e}`,type:"floated-input-field",props:{label:"value"}}])}])]},s.\u0275fac=(()=>{let e;return function(o){return(e||(e=v(s)))(o||s)}})(),s.\u0275cmp=w({type:s,selectors:[["app-education-dialog"]],standalone:!0,features:[x,R],decls:8,vars:4,consts:[[1,"p-3","border-bottom-1","border-300","bg-white","md:sticky","z-index-1102","top-0"],[1,"flex","align-items-center","justify-content-between","gap-2"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"],[3,"onSubmit","form","model","fields","options","withFormPadding","showFormActions","showSubmitButton","showResetButton","buttonLabel","submitBtnLoading"],[1,"filters-hint","px-4","py-4"],[1,"fas","fa-info-circle","text-primary"]],template:function(n,o){n&1&&(u(0,"div",0)(1,"div",1)(2,"h2",2),L(3),c(),u(4,"button",3),C("click",function(){return o.closeDialog()}),c()()(),M(5,re,2,11),A(6,"async"),M(7,le,1,0,"app-spinner")),n&2&&(b(3),S(" ",o.dialogMeta.dialogTitle," "),b(2),T($(6,2,o.dialogMeta.dialogData$)?5:7))},dependencies:[O,z,N,j,H,G,X,Q],encapsulation:2,changeDetection:0});let a=s;return a})();var Ee=(()=>{var t,p;let r=class r extends ee{constructor(){super(...arguments);_(this,t);this.currentLang=g(J).currentLanguage}ngOnInit(){this.dialogComponent=ie,this.indexMeta=h(m({},this.indexMeta),{endpoints:{index:"education/index",delete:"education/delete"},indexTitle:d(this,t,p).call(this,"Educations"),indexIcon:"pi pi-book",createBtnLabel:d(this,t,p).call(this,"Create Education"),indexTableKey:"EDUCATION_KEY",columns:[{name:"id",title:d(this,t,p).call(this,"#ID"),searchable:!1,orderable:!0},{name:"order",title:d(this,t,p).call(this,"order"),searchable:!1,orderable:!0},{name:`title_${this.currentLang()}`,title:d(this,t,p).call(this,"title"),searchable:!0,orderable:!0},{name:"slug",title:d(this,t,p).call(this,"slug"),searchable:!0,orderable:!1},{name:"created_by.email",title:d(this,t,p).call(this,"created by"),searchable:!0,orderable:!1}]})}};t=new WeakSet,p=function(f){return this.translate.instant(f)},r.\u0275fac=(()=>{let f;return function(e){return(f||(f=v(r)))(e||r)}})(),r.\u0275cmp=w({type:r,selectors:[["app-educations"]],standalone:!0,features:[x,R],decls:1,vars:17,consts:[["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","isActiveChange","onLoadData","headerTitle","titleIcon","headerBtnLabel","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","indexRole","updateBtnRole","createBtnRole","deleteBtnRole","globalFilterValue","withActionsColumn","reorderableColumns","reorderableRows"]],template:function(B,e){if(B&1&&(u(0,"app-table-wrapper",0),C("createBtnClicked",function(){return e.openCreateRecordDialog()})("updateBtnClicked",function(o){return e.openUpdateRecordDialog(o)})("deleteBtnClicked",function(o){return e.deleteRecord(o)})("isActiveChange",function(o){return e.activeChange(o)})("onLoadData",function(o){return e.loadRecords(o)}),c()),B&2){let n,o;F("headerTitle",e.indexMeta.indexTitle)("titleIcon",e.indexMeta.indexIcon)("headerBtnLabel",e.indexMeta.createBtnLabel)("columns",e.indexMeta.columns)("dataSource",e.records())("loading",e.isLoading())("totalRecords",e.totalRecords())("recordsFiltered",e.recordsFiltered())("stateKey",e.indexMeta.indexTableKey)("indexRole",e.roles().index)("updateBtnRole",e.roles().update)("createBtnRole",e.roles().create)("deleteBtnRole",e.roles().delete)("globalFilterValue",e.globalFilterValue)("withActionsColumn",e.indexMeta.withActionCoulmns)("reorderableColumns",(n=e.indexMeta.reorderableColumns)!==null&&n!==void 0?n:!1)("reorderableRows",(o=e.indexMeta.reorderableRows)!==null&&o!==void 0?o:!1)}},dependencies:[te],encapsulation:2,changeDetection:0});let a=r;return a})();export{Ee as default};
