import{Fa as X,Ga as Z,Ha as ee,Ia as te,Ja as ie,La as ne,Qa as oe,i as q,oa as N,pa as z,va as W,wa as Y,xa as H,ya as J,za as Q}from"./chunk-GSCQOV4H.js";import{q as j}from"./chunk-YTGKFTSL.js";import{$ as h,Cb as f,Db as g,Eb as A,H as T,Ib as O,Lb as y,Mb as G,R,Xb as D,Za as B,Zb as V,da as w,dc as I,kb as F,oc as U,pa as K,pc as E,qa as $,qb as x,ta as M,tb as k,yb as L}from"./chunk-BU7DNSOB.js";import{a as c,b,h as d,i as p,j as v,k as s}from"./chunk-7SQXNNBM.js";var S=class{constructor(t){this.id=t?.id||null,this.title_en=t?.title_en||null,this.title_ar=t?.title_ar||null,this.description_en=t?.description_en||null,this.description_ar=t?.description_ar||null,this.icon=t?.icon||null,this.featuredImage=t?.featuredImage||null,this.order=t?.order||null,this.screen_shot=t?.screen_shot||null,this.slug=t?.slug||null,this.link=t?.link||null}};function de(a,t){a&1&&(f(0,"p",5),A(1,"i",6),D(2),U(3,"translate"),g()),a&2&&(B(2),V(" ",E(3,1,"All Fields it will be Required button it will not request"),`
`))}function pe(a,t){if(a&1){let n=O();f(0,"app-form",4),y("onSubmit",function(){K(n);let P=G();return $(P.createUpdateRecord(P.dialogMeta.endpoints))}),g(),x(1,de,4,3,"p",5)}if(a&2){let n=G();k("form",n.createUpdateForm)("model",n.model)("fields",n.fields)("options",n.options)("withFormPadding",n.dialogMeta.withFormPadding)("showFormActions",n.dialogMeta.showFormActions)("showSubmitButton",n.dialogMeta.showSubmitButton)("showResetButton",n.dialogMeta.showResetButton)("buttonLabel",n.dialogMeta.submitButtonLabel)("submitBtnLoading",n.isLoading()),B(),L(n.dialogMeta.langDesc?1:-1)}}function ue(a,t){a&1&&A(0,"app-spinner")}var le=(()=>{var t,n,l,ae,re;let m=class m extends te{constructor(){super(...arguments);p(this,l);p(this,t,h(J));p(this,n,h(Q).languages)}ngOnInit(){this.dialogMeta=b(c({},this.dialogMeta),{endpoints:{store:"setting/store",update:"setting/update"}}),this.editData?(this.dialogMeta=b(c({},this.dialogMeta),{dialogTitle:this.translate.instant("Update Setting"),submitButtonLabel:this.translate.instant("Update")}),this.model=new S(this.editData)):(this.dialogMeta=b(c({},this.dialogMeta),{dialogTitle:this.translate.instant("Create Setting"),submitButtonLabel:this.translate.instant("Create")}),this.model=new S),s(this,l,ae).call(this)}configureFields(){return[d(this,t).fieldBuilder([{key:"slug",type:"floated-input-field",props:{required:!0,label:"slug",hooks:{onInit:i=>i.formControl?.valueChanges.pipe(T(),R(e=>{let o=e.replace(/\s+/g,"-");i.formControl?.setValue(o)}))}},hooks:{onInit:i=>i.formControl?.valueChanges.pipe(T(),R(e=>{let o=e.replace(/\s+/g,"-");i.formControl?.setValue(o)}))}}]),d(this,t).fieldBuilder([{key:"screen_shot",className:"col-12",type:"file-field",props:{fileLabel:"Select screen shot"}},{type:"tabs-field",fieldGroup:d(this,n).map(i=>({props:{label:`${i.label} (${i.value.toUpperCase()})`},fieldGroup:s(this,l,re).call(this,i.value)}))}]),d(this,t).fieldBuilder(this.iconField()),d(this,t).fieldBuilder(this.link()),d(this,t).fieldBuilder(this.featuredImageField())]}featuredImageField(){return[{key:"featuredImage",type:"file-field",props:{fileLabel:"Select featuredImage"}}]}description(i){return[{key:`description_${i}`,type:"textarea-field",props:{label:"description"}}]}link(){return[{key:"link",type:"floated-input-field",props:{label:"Link"}}]}title(i){return[{key:`title_${i}`,type:"floated-input-field",props:{label:"title"}}]}iconField(){return[{key:"icon",type:"floated-input-field",props:{label:"icon"}}]}};t=new WeakMap,n=new WeakMap,l=new WeakSet,ae=function(){this.fields=this.configureFields()},re=function(i){return[d(this,t).fieldBuilder(this.title(i)),d(this,t).fieldBuilder(this.description(i))]},m.\u0275fac=(()=>{let i;return function(o){return(i||(i=M(m)))(o||m)}})(),m.\u0275cmp=w({type:m,selectors:[["app-general-setting-cu"]],standalone:!0,features:[F,I],decls:8,vars:4,consts:[[1,"p-3","border-bottom-1","border-300","bg-white","md:sticky","z-index-1102","top-0"],[1,"flex","align-items-center","justify-content-between","gap-2"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"],[3,"onSubmit","form","model","fields","options","withFormPadding","showFormActions","showSubmitButton","showResetButton","buttonLabel","submitBtnLoading"],[1,"filters-hint","px-4","py-4"],[1,"fas","fa-info-circle","text-primary"]],template:function(e,o){e&1&&(f(0,"div",0)(1,"div",1)(2,"h2",2),D(3),g(),f(4,"button",3),y("click",function(){return o.closeDialog()}),g()()(),x(5,pe,2,11),U(6,"async"),x(7,ue,1,0,"app-spinner")),e&2&&(B(3),V(" ",o.dialogMeta.dialogTitle," "),B(2),L(E(6,2,o.dialogMeta.dialogData$)?5:7))},dependencies:[j,z,N,Y,W,ee,Z],encapsulation:2,changeDetection:0});let a=m;return a})();var Ge=(()=>{var t,n,l,_;let u=class u extends ie{constructor(){super(...arguments);p(this,l);p(this,t);p(this,n);v(this,t,h(q)),v(this,n,h(H)),this.currentLang=h(X).currentLanguage}ngOnInit(){this.roles.set(c({},this.roles())),this.dialogComponent=le,this.indexMeta=b(c({},this.indexMeta),{endpoints:{index:"setting/index",delete:"setting/delete"},indexTitle:s(this,l,_).call(this,"General Setting"),indexIcon:"pi pi-cog",createBtnLabel:s(this,l,_).call(this,"Create Setting"),indexTableKey:"CONTACT_DEATILS_KEY",columns:[{name:"id",title:s(this,l,_).call(this,"#ID"),searchable:!1,orderable:!0},{name:"slug",title:s(this,l,_).call(this,"slug"),searchable:!0,orderable:!1},{name:"screen_shot",title:s(this,l,_).call(this,"screen shot"),searchable:!1,orderable:!1,transform:{type:"image",width:300,height:300}},{name:"created_at",title:s(this,l,_).call(this,"created at"),searchable:!1,orderable:!1,transform:{type:"date",filter:"MMM d, y"}}]})}};t=new WeakMap,n=new WeakMap,l=new WeakSet,_=function(C){return this.translate.instant(C)},u.\u0275fac=(()=>{let C;return function(e){return(C||(C=M(u)))(e||u)}})(),u.\u0275cmp=w({type:u,selectors:[["app-index-general-settings"]],standalone:!0,features:[F,I],decls:1,vars:17,consts:[["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","isActiveChange","onLoadData","headerTitle","titleIcon","headerBtnLabel","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","indexRole","updateBtnRole","createBtnRole","deleteBtnRole","globalFilterValue","withActionsColumn","reorderableColumns","reorderableRows"]],template:function(i,e){if(i&1&&(f(0,"app-table-wrapper",0),y("createBtnClicked",function(){return e.openCreateRecordDialog()})("updateBtnClicked",function(r){return e.openUpdateRecordDialog(r)})("deleteBtnClicked",function(r){return e.deleteRecord(r)})("isActiveChange",function(r){return e.activeChange(r)})("onLoadData",function(r){return e.loadRecords(r)}),g()),i&2){let o,r;k("headerTitle",e.indexMeta.indexTitle)("titleIcon",e.indexMeta.indexIcon)("headerBtnLabel",e.indexMeta.createBtnLabel)("columns",e.indexMeta.columns)("dataSource",e.records())("loading",e.isLoading())("totalRecords",e.totalRecords())("recordsFiltered",e.recordsFiltered())("stateKey",e.indexMeta.indexTableKey)("indexRole",e.roles().index)("updateBtnRole",e.roles().update)("createBtnRole",e.roles().create)("deleteBtnRole",e.roles().delete)("globalFilterValue",e.globalFilterValue)("withActionsColumn",e.indexMeta.withActionCoulmns)("reorderableColumns",(o=e.indexMeta.reorderableColumns)!==null&&o!==void 0?o:!1)("reorderableRows",(r=e.indexMeta.reorderableRows)!==null&&r!==void 0?r:!1)}},dependencies:[oe,ne],encapsulation:2,changeDetection:0});let a=u;return a})();export{Ge as default};
