import{$ as G,U as j,_ as z,ba as N,ca as H,ia as Y,ja as J,ka as Q,la as X,ma as Z,ta as ee}from"./chunk-5GOJ7XLL.js";import"./chunk-AWYWM5KA.js";import{B as O,C as W}from"./chunk-AHOQFNUG.js";import{q as K}from"./chunk-YJFXNHNR.js";import{$ as b,Cb as c,Db as h,Eb as L,Ib as V,Lb as C,Mb as S,O as R,R as v,Xb as I,Za as _,Zb as A,da as T,dc as x,kb as k,oc as q,pa as U,pc as E,qa as $,qb as M,ta as w,tb as F,yb as D}from"./chunk-BU7DNSOB.js";import{a as m,b as u,h as d,i as f,k as l}from"./chunk-7SQXNNBM.js";var y=class{constructor(t){this.id=t?.id||null,this.name_en=t?.name_en||null,this.name_ar=t?.name_ar||null,this.description_en=t?.description_en||null,this.description_ar=t?.description_ar||null,this.position_en=t?.position_en||null,this.position_ar=t?.position_ar||null,this.phone_number=t?.phone_number||[null],this.social_links=t?.social_links.map(i=>({icon:i?.icon,link:i?.link}))||[null],this.featuredImage=t?.featuredImage||null}};function oe(o,t){o&1&&(c(0,"p",5),L(1,"i",6),I(2),q(3,"translate"),h()),o&2&&(_(2),A(" ",E(3,1,"All Fields it will be Required button it will not request"),`
`))}function ae(o,t){if(o&1){let i=V();c(0,"app-form",4),C("onSubmit",function(){U(i);let P=S();return $(P.createUpdateRecord(P.dialogMeta.endpoints))}),h(),M(1,oe,4,3,"p",5)}if(o&2){let i=S();F("form",i.createUpdateForm)("model",i.model)("fields",i.fields)("options",i.options)("withFormPadding",i.dialogMeta.withFormPadding)("showFormActions",i.dialogMeta.showFormActions)("showSubmitButton",i.dialogMeta.showSubmitButton)("showResetButton",i.dialogMeta.showResetButton)("buttonLabel",i.dialogMeta.submitButtonLabel)("submitBtnLoading",i.isLoading()),_(),D(i.dialogMeta.langDesc?1:-1)}}function re(o,t){o&1&&L(0,"app-spinner")}var te=(()=>{var t,i,r,ie;let s=class s extends X{constructor(){super(...arguments);f(this,r);f(this,t,b(N));f(this,i,b(H))}ngOnInit(){this.dialogMeta=u(m({},this.dialogMeta),{endpoints:{store:"team/store",update:"team/update"}}),this.editData?(this.dialogMeta=u(m({},this.dialogMeta),{dialogTitle:this.translate.instant("Update Team"),submitButtonLabel:this.translate.instant("Update Team")}),this.model=new y(this.editData)):(this.dialogMeta=u(m({},this.dialogMeta),{dialogTitle:this.translate.instant("Create Team"),submitButtonLabel:this.translate.instant("Create Team")}),this.model=new y),this.fields=this.configureFields()}configureFields(){return[d(this,t).fieldBuilder([{key:"order",type:"floated-input-field",props:{type:"number",required:!0,label:"Order"}}]),d(this,t).fieldBuilder([{key:"phone_number",type:"repeat-field",props:{addBtnText:"Add phone",disabledRepeater:!1},hooks:{onInit:e=>e.formControl?.valueChanges.pipe(R(e.model),v(a=>{if(e.props)return a.length===2?e.props.disabledRepeater=!0:e.props.disabledRepeater=!1}))},fieldArray:{type:"floated-input-field",props:{label:"phone number",required:!0}}}]),d(this,t).fieldBuilder([{key:"social_links",type:"repeat-field",props:{addBtnText:"Add Social Link",disabledRepeater:!1},hooks:{onInit:e=>e.formControl?.valueChanges.pipe(R(e.model),v(a=>{if(e.props)return a.length===4?e.props.disabledRepeater=!0:e.props.disabledRepeater=!1}))},fieldArray:d(this,t).fieldBuilder([{key:"icon",type:"floated-input-field",props:{label:"icon",required:!0}},{key:"link",type:"floated-input-field",props:{label:"link"}}])}]),{type:"tabs-field",fieldGroup:d(this,i).languages.map(e=>({props:{label:`(${e.value.toUpperCase()})`},fieldGroup:l(this,r,ie).call(this,e.value)}))},d(this,t).fieldBuilder([{key:"featuredImage",type:"file-field",props:{required:!this.editData,chooseLabel:"Featured Image",description:"Dimensions Image 1024 px Width & 587 px Height & Format webp"}}])]}};t=new WeakMap,i=new WeakMap,r=new WeakSet,ie=function(e){return[{key:`name_${e}`,type:"floated-input-field",props:{required:!0,label:"Name"}},{key:`position_${e}`,type:"floated-input-field",props:{label:"position",required:!0}},d(this,t).fieldBuilder([{key:`description_${e}`,type:"textarea-field",props:{label:"description"}}])]},s.\u0275fac=(()=>{let e;return function(n){return(e||(e=w(s)))(n||s)}})(),s.\u0275cmp=T({type:s,selectors:[["app-team-dialog"]],standalone:!0,features:[k,x],decls:8,vars:4,consts:[[1,"p-3","border-bottom-1","border-300","bg-white","md:sticky","z-index-1102","top-0"],[1,"flex","align-items-center","justify-content-between","gap-2"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"],[3,"onSubmit","form","model","fields","options","withFormPadding","showFormActions","showSubmitButton","showResetButton","buttonLabel","submitBtnLoading"],[1,"filters-hint","px-4","py-4"],[1,"fas","fa-info-circle","text-primary"]],template:function(a,n){a&1&&(c(0,"div",0)(1,"div",1)(2,"h2",2),I(3),h(),c(4,"button",3),C("click",function(){return n.closeDialog()}),h()()(),M(5,ae,2,11),q(6,"async"),M(7,re,1,0,"app-spinner")),a&2&&(_(3),A(" ",n.dialogMeta.dialogTitle," "),_(2),D(E(6,2,n.dialogMeta.dialogData$)?5:7))},dependencies:[K,W,O,j,G,z,Q,J],encapsulation:2,changeDetection:0});let o=s;return o})();var Re=(()=>{var t,p;let r=class r extends Z{constructor(){super(...arguments);f(this,t);this.currentLang=b(Y).currentLanguage}ngOnInit(){this.dialogComponent=te,this.dialogConfig=u(m({},this.dialogConfig),{width:"1200px"}),this.indexMeta=u(m({},this.indexMeta),{endpoints:{index:"team/index",delete:"team/delete"},indexTitle:l(this,t,p).call(this,"Team"),indexIcon:"pi pi-book",createBtnLabel:l(this,t,p).call(this,"Create Team"),indexTableKey:"TEAM_KEY",columns:[{name:"id",title:l(this,t,p).call(this,"#ID"),searchable:!1,orderable:!0},{name:"order",title:l(this,t,p).call(this,"order"),searchable:!1,orderable:!0},{name:`name_${this.currentLang()}`,title:l(this,t,p).call(this,"Name"),searchable:!0,orderable:!1},{name:`position_${this.currentLang()}`,title:l(this,t,p).call(this,"position"),searchable:!0,orderable:!1},{name:"created_by.email",title:l(this,t,p).call(this,"created by"),searchable:!0,orderable:!1}]})}};t=new WeakSet,p=function(g){return this.translate.instant(g)},r.\u0275fac=(()=>{let g;return function(e){return(g||(g=w(r)))(e||r)}})(),r.\u0275cmp=T({type:r,selectors:[["app-team"]],standalone:!0,features:[k,x],decls:1,vars:17,consts:[["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","isActiveChange","onLoadData","headerTitle","titleIcon","headerBtnLabel","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","indexRole","updateBtnRole","createBtnRole","deleteBtnRole","globalFilterValue","withActionsColumn","reorderableColumns","reorderableRows"]],template:function(B,e){if(B&1&&(c(0,"app-table-wrapper",0),C("createBtnClicked",function(){return e.openCreateRecordDialog()})("updateBtnClicked",function(n){return e.openUpdateRecordDialog(n)})("deleteBtnClicked",function(n){return e.deleteRecord(n)})("isActiveChange",function(n){return e.activeChange(n)})("onLoadData",function(n){return e.loadRecords(n)}),h()),B&2){let a,n;F("headerTitle",e.indexMeta.indexTitle)("titleIcon",e.indexMeta.indexIcon)("headerBtnLabel",e.indexMeta.createBtnLabel)("columns",e.indexMeta.columns)("dataSource",e.records())("loading",e.isLoading())("totalRecords",e.totalRecords())("recordsFiltered",e.recordsFiltered())("stateKey",e.indexMeta.indexTableKey)("indexRole",e.roles().index)("updateBtnRole",e.roles().update)("createBtnRole",e.roles().create)("deleteBtnRole",e.roles().delete)("globalFilterValue",e.globalFilterValue)("withActionsColumn",e.indexMeta.withActionCoulmns)("reorderableColumns",(a=e.indexMeta.reorderableColumns)!==null&&a!==void 0?a:!1)("reorderableRows",(n=e.indexMeta.reorderableRows)!==null&&n!==void 0?n:!1)}},dependencies:[ee],encapsulation:2,changeDetection:0});let o=r;return o})();export{Re as default};
